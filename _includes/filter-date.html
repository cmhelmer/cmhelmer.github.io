{%- comment -%}

Filter date

Check if document has date (Jekyll default is site build time)
Collection documents don't have dates by default
Parse datetime from ID

- Pass in full document (page)
- Assume 12-digit ID string (YYYYMMDDhhmm)
- Output YYYY-MM-DD hh:mm
- Capture this include and use filter "strip" to remove whitespace
- Use Jekyll filter "date_to_xmlschema" to format to ISO8601 standard for feeds and html "datetime" attribute

{%- endcomment -%}

{%- assign my_doc = include.my_doc -%}

{%- if my_doc.date == site.time and my_doc.uid -%}
	
	{%- assign date_year   = my_doc.uid | slice:  0, 4 -%}
	{%- assign date_month  = my_doc.uid | slice:  4, 2 -%}
	{%- assign date_day    = my_doc.uid | slice:  6, 2 -%}
	{%- assign date_hour   = my_doc.uid | slice:  8, 2 -%}
	{%- assign date_minute = my_doc.uid | slice: 10, 2 -%}
	
	{{ date_year }}-{{ date_month }}-{{ date_day }} {{ date_hour }}:{{ date_minute }}

{%- else -%}

	{{ my_doc.date }}

{%- endif -%}
