{%- comment -%}

Some ideas taken from "jekyll-seo-tag" plugin by Ben Balter

{%- endcomment -%}

<meta name="creator" content="{{ page.author | default: site.author.name }}">
<meta name="revised" content="{{ page.updated | page.date | date_to_xmlschema }}">
<meta name="designer" content="C. M. Helmer">
<meta name="keywords" content="{{ page.tags | join: ',' }}">
<meta name="collection" content="{{ page.collection }}">

{%- assign site_title = site.title -%}
{%- capture title_separator -%}{{" "}}{{ site.title_separator | default: "|" }}{{" "}}{%- endcapture -%}
{%- if page.title -%}
	{%- assign site_title = page.title | append: title_separator | append: site_title -%}
{%- endif -%}
<title>{{ site_title }}</title>

{%- if page.content -%}
	{%- capture page_description -%}
		{%- if page.excerpt -%}
			{{ page.excerpt }}
		{%- else -%}
			{%- include filter-excerpt.html my_excerpt=page.content -%}
		{%- endif -%}
	{%- endcapture -%}
{%- endif -%}
{%- assign site_description = page_description | default: site.description -%}
{%- if site_description -%}
<meta name="description" content="{{ site_description | strip | escape }}">
<meta property="og:description" content="{{ site_description | strip | escape }}">
{%- endif -%}




{%- if site.micro_blog -%}
<link href="https://micro.blog/{{ site.micro_blog }}" rel="me">
{%- endif -%}

{%- comment -%}

{% if seo_tag.page_title %}
<meta property="og:title" content="{{ seo_tag.page_title }}" />
{% endif %}

{% if seo_tag.author.name %}
<meta name="author" content="{{ seo_tag.author.name }}" />
{% endif %}

<meta property="og:locale" content="{{ seo_tag.page_lang | replace:'-','_' }}" />

{% if site.url %}
<link rel="canonical" href="{{ seo_tag.canonical_url }}" />
<meta property="og:url" content="{{ seo_tag.canonical_url }}" />
{% endif %}

{% if seo_tag.site_title %}
<meta property="og:site_name" content="{{ seo_tag.site_title }}" />
{% endif %}

{% if seo_tag.image %}
<meta property="og:image" content="{{ seo_tag.image.path }}" />
{% if seo_tag.image.height %}
<meta property="og:image:height" content="{{ seo_tag.image.height }}" />
{% endif %}
{% if seo_tag.image.width %}
<meta property="og:image:width" content="{{ seo_tag.image.width }}" />
{% endif %}
{% endif %}

{% if page.date %}
<meta property="og:type" content="article" />
<meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
{% endif %}

{% if paginator.previous_page %}
<link rel="prev" href="{{ paginator.previous_page_path | absolute_url }}" />
{% endif %}
{% if paginator.next_page %}
<link rel="next" href="{{ paginator.next_page_path | absolute_url }}" />
{% endif %}

{% if site.twitter %}
{% if seo_tag.image %}
<meta name="twitter:card" content="summary_large_image" />
{% else %}
<meta name="twitter:card" content="summary" />
{% endif %}

<meta name="twitter:site" content="@{{ site.twitter.username | replace:"@","" }}" />

{% if seo_tag.author.twitter %}
<meta name="twitter:creator" content="@{{ seo_tag.author.twitter }}" />
{% endif %}
{% endif %}

{% if site.facebook %}
{% if site.facebook.admins %}
<meta property="fb:admins" content="{{ site.facebook.admins }}" />
{% endif %}

{% if site.facebook.publisher %}
<meta property="article:publisher" content="{{ site.facebook.publisher }}" />
{% endif %}

{% if site.facebook.app_id %}
<meta property="fb:app_id" content="{{ site.facebook.app_id }}" />
{% endif %}
{% endif %}

{% if site.webmaster_verifications %}
{% if site.webmaster_verifications.google %}
<meta name="google-site-verification" content="{{ site.webmaster_verifications.google }}" />
{% endif %}

{% if site.webmaster_verifications.bing %}
<meta name="msvalidate.01" content="{{ site.webmaster_verifications.bing }}" />
{% endif %}

{% if site.webmaster_verifications.alexa %}
<meta name="alexaVerifyID" content="{{ site.webmaster_verifications.alexa }}" />
{% endif %}

{% if site.webmaster_verifications.yandex %}
<meta name="yandex-verification" content="{{ site.webmaster_verifications.yandex }}" />
{% endif %}

{% if site.webmaster_verifications.baidu %}
<meta name="baidu-site-verification" content="{{ site.webmaster_verifications.baidu }}" />
{% endif %}
{% elsif site.google_site_verification %}
<meta name="google-site-verification" content="{{ site.google_site_verification }}" />
{% endif %}

<script type="application/ld+json">
{{ seo_tag.json_ld | jsonify }}
</script>

{%- endcomment -%}
